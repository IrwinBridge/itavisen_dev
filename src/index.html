<!DOCTYPE html>
<html ${htmlAttrs}>
  <head>
    <!-- Start GPT Tag -->
    <meta charset="UTF-8">
    <meta name="keywords" content="">
    <meta name="author" content="ITavisen.no/">
    <meta name="Description" content="For deg som lever digitalt">
    <meta property="og:description" content="For deg som lever digitalt">
    <script async='async' src='https://www.googletagservices.com/tag/js/gpt.js'></script>
    <script>
      var gptadslots = [];
      var googletag = googletag || {cmd:[]};
    </script>
    <script>
      /*googletag.cmd.push(function() {
        var mapping1 = googletag.sizeMapping()
                                .addSize([0, 0], [[300, 250], [320, 50]])
                                .addSize([340, 200], [[300, 250], [320, 50], [320, 320], [320, 280], [320, 250], [336, 280]])
                                .addSize([748, 200], [[728, 90]])
                                .build();

        var mapping2 = googletag.sizeMapping()
                                .addSize([0, 0], [[300, 250]])
                                .addSize([340, 200], [[300, 250], [320, 320], [320, 280], [320, 250], [336, 280]])
                                .addSize([748, 200], [[728, 90]])
                                .addSize([990, 200], [[970, 250], [970, 90], [980, 150], [980, 300], [980, 120]])
                                .build();

        //Adslot 1 declaration
        gptadslots.push(googletag.defineSlot('/26278908/it_728x90_300x250_top_frontpages', [[728,90],[300,250],[320,50],[320,320],[320,280],[320,250],[336,280]], 'div-gpt-ad-9027848-1')
                                .defineSizeMapping(mapping1)
                                .addService(googletag.pubads()));
        //Adslot 2 declaration
        gptadslots.push(googletag.defineSlot('/26278908/it_160x600_sidebar_right_frontpages', [[160,600],[180,500],[120,600],[300,600]], 'div-gpt-ad-9027848-2')
                                .addService(googletag.pubads()));
        //Adslot 3 declaration
        gptadslots.push(googletag.defineSlot('/26278908/it_160x600_sidebar_left_frontpages', [[160,600],[180,500],[120,600],[300,600]], 'div-gpt-ad-9027848-3')
                                .addService(googletag.pubads()));
        //Adslot 4 declaration
        gptadslots.push(googletag.defineSlot('/26278908/it_970x250_300x250_frontpages_1', [[970,250],[980,150],[728,90],[980,300],[980,120],[970,90],[300,250],[320,320],[320,280],[320,250],[336,280]], 'div-gpt-ad-9027848-4')
                                .defineSizeMapping(mapping2)
                                .addService(googletag.pubads()));
        //Adslot 5 declaration
        gptadslots.push(googletag.defineSlot('/26278908/it_970x250_300x250_frontpages_2', [[970,250],[980,150],[728,90],[980,300],[980,120],[970,90],[300,250],[320,320],[320,280],[320,250],[336,280]], 'div-gpt-ad-9027848-5')
                                .defineSizeMapping(mapping2)
                                .addService(googletag.pubads()));
        //Adslot 6 declaration
        gptadslots.push(googletag.defineSlot('/26278908/it_970x250_300x250_frontpages_3', [[970,250],[980,150],[728,90],[980,300],[980,120],[970,90],[300,250],[320,320],[320,280],[320,250],[336,280]], 'div-gpt-ad-9027848-6')
                                .defineSizeMapping(mapping2)
                                .addService(googletag.pubads()));
        //Adslot 7 declaration
        gptadslots.push(googletag.defineSlot('/26278908/it_728x90_300x250_top_articlepages', [[728,90],[300,250],[320,50],[320,320],[320,280],[320,250],[336,280]], 'div-gpt-ad-9027848-7')
                                .defineSizeMapping(mapping1)
                                .addService(googletag.pubads()));
        //Adslot 8 declaration
        gptadslots.push(googletag.defineSlot('/26278908/it_160x600_sidebar_right_articlepages', [[160,600],[180,500],[120,600],[300,600]], 'div-gpt-ad-9027848-8')
                                .addService(googletag.pubads()));
        //Adslot 9 declaration
        gptadslots.push(googletag.defineSlot('/26278908/it_160x600_sidebar_left_articlepages', [[160,600],[180,500],[120,600],[300,600]], 'div-gpt-ad-9027848-9')
                                .addService(googletag.pubads()));
        //Adslot 10 declaration
        gptadslots.push(googletag.defineSlot('/26278908/it_300x250_articlepages', [[300,250],[320,320],[320,250],[320,280],[336,280]], 'div-gpt-ad-9027848-10')
                                .addService(googletag.pubads()));
        //Adslot 11 declaration
        gptadslots.push(googletag.defineSlot('/26278908/it_970x250_300x250_articlepages', [[970,250],[980,150],[728,90],[980,300],[980,120],[970,90],[300,250],[320,320],[320,280],[320,250],[336,280]], 'div-gpt-ad-9027848-11')
                                .defineSizeMapping(mapping2)
                                .addService(googletag.pubads()));
                                
                      googletag.defineSlot('/21752231759/itavisen_300x250_article', [[336, 280], [300, 250]], 'div-gpt-ad-1552057160624-0').addService(googletag.pubads());
                      
                      googletag.defineSlot('/26278908/it_300x250_articlepages_2', [[320, 250], [320, 280], [320, 320], [336, 280], [300, 250]], 'div-gpt-ad-1552075516188-0').addService(googletag.pubads());
                      
                      googletag.defineSlot('/26278908/it_300x250_articlepages_3', [[300, 250], [320, 280], [336, 280], [320, 250], [320, 320]], 'div-gpt-ad-1552075713287-0').addService(googletag.pubads());
                      
                      googletag.defineSlot('/26278908/it_970x250_300x250_frontpages_4', [[980, 120], [300, 250], [970, 90], [320, 280], [320, 250], [970, 250], [336, 280], [728, 90], [320, 320], [980, 150], [980, 300]], 'div-gpt-ad-1552497065702-0') 
                                .defineSizeMapping(mapping2)
                                .addService(googletag.pubads());
                      
                        googletag.defineSlot('/26278908/it_970x250_300x250_frontpages_5', [[320, 250], [980, 120], [970, 90], [300, 250], [728, 90], [970, 250], [320, 280], [980, 150], [336, 280], [320, 320], [980, 300]], 'div-gpt-ad-1552497107886-0')
                                .defineSizeMapping(mapping2)
                                .addService(googletag.pubads());
                                
        googletag.pubads().enableSingleRequest();
        googletag.enableServices();
        window.googletag = googletag;
        window.gptadslots = gptadslots;
      });*/
      googletag.cmd.push(function() {
        var mapping1 = googletag.sizeMapping()
                                .addSize([0, 0], [[300, 250], [320, 50]])
                                .addSize([340, 200], [[300, 250], [320, 50], [320, 320], [320, 280], [320, 250], [336, 280]])
                                .addSize([748, 200], [[728, 90]])
                                .build();

        var mapping2 = googletag.sizeMapping()
                                .addSize([0, 0], [[300, 250]])
                                .addSize([340, 200], [[300, 250], [320, 320], [320, 280], [320, 250], [336, 280]])
                                .addSize([748, 200], [[728, 90]])
                                .addSize([990, 200], [[970, 250], [970, 90], [980, 150], [980, 300], [980, 120]])
                                .build();

        //Adslot 1 declaration
        gptadslots.push(googletag.defineSlot('/26278908/it_728x90_300x250_top_frontpages', [[728,90],[300,250],[320,50],[320,320],[320,280],[320,250],[336,280]], 'div-gpt-ad-9027848-1')
                                .defineSizeMapping(mapping1)
                                .addService(googletag.pubads()));
        //Adslot 2 declaration
        gptadslots.push(googletag.defineSlot('/26278908/it_160x600_sidebar_right_frontpages', [[160,600],[180,500],[120,600],[300,600]], 'div-gpt-ad-9027848-2')
                                .addService(googletag.pubads()));
        //Adslot 3 declaration
        gptadslots.push(googletag.defineSlot('/26278908/it_160x600_sidebar_left_frontpages', [[160,600],[180,500],[120,600],[300,600]], 'div-gpt-ad-9027848-3')
                                .addService(googletag.pubads()));
        //Adslot 4 declaration
        gptadslots.push(googletag.defineSlot('/26278908/it_970x250_300x250_frontpages_1', [[970,250],[980,150],[728,90],[980,300],[980,120],[970,90],[300,250],[320,320],[320,280],[320,250],[336,280]], 'div-gpt-ad-9027848-4')
                                .defineSizeMapping(mapping2)
                                .addService(googletag.pubads()));
        //Adslot 5 declaration
        gptadslots.push(googletag.defineSlot('/26278908/it_970x250_300x250_frontpages_2', [[970,250],[980,150],[728,90],[980,300],[980,120],[970,90],[300,250],[320,320],[320,280],[320,250],[336,280]], 'div-gpt-ad-9027848-5')
                                .defineSizeMapping(mapping2)
                                .addService(googletag.pubads()));
        //Adslot 6 declaration
        gptadslots.push(googletag.defineSlot('/26278908/it_970x250_300x250_frontpages_3', [[970,250],[980,150],[728,90],[980,300],[980,120],[970,90],[300,250],[320,320],[320,280],[320,250],[336,280]], 'div-gpt-ad-9027848-6')
                                .defineSizeMapping(mapping2)
                                .addService(googletag.pubads()));
        //Adslot 7 declaration
        gptadslots.push(googletag.defineSlot('/26278908/it_728x90_300x250_top_articlepages', [[728,90],[300,250],[320,50],[320,320],[320,280],[320,250],[336,280]], 'div-gpt-ad-9027848-7')
                                .defineSizeMapping(mapping1)
                                .addService(googletag.pubads()));
        //Adslot 8 declaration
        gptadslots.push(googletag.defineSlot('/26278908/it_160x600_sidebar_right_articlepages', [[160,600],[180,500],[120,600],[300,600]], 'div-gpt-ad-9027848-8')
                                .addService(googletag.pubads()));
        //Adslot 9 declaration
        gptadslots.push(googletag.defineSlot('/26278908/it_160x600_sidebar_left_articlepages', [[160,600],[180,500],[120,600],[300,600]], 'div-gpt-ad-9027848-9')
                                .addService(googletag.pubads()));
        //Adslot 10 declaration
        gptadslots.push(googletag.defineSlot('/26278908/it_300x250_articlepages', [[300,250],[320,320],[320,250],[320,280],[336,280]], 'div-gpt-ad-9027848-10')
                                .addService(googletag.pubads()));
        //Adslot 11 declaration
        gptadslots.push(googletag.defineSlot('/26278908/it_970x250_300x250_articlepages', [[970,250],[980,150],[728,90],[980,300],[980,120],[970,90],[300,250],[320,320],[320,280],[320,250],[336,280]], 'div-gpt-ad-9027848-11')
                                  .defineSizeMapping(mapping2)
                                  .addService(googletag.pubads()));
                                  
                        googletag.defineSlot('/21752231759/itavisen_300x250_article', [[336, 280], [300, 250]], 'div-gpt-ad-1552057160624-0').addService(googletag.pubads());
                        
                        googletag.defineSlot('/26278908/it_300x250_articlepages_2', [[320, 250], [320, 280], [320, 320], [336, 280], [300, 250]], 'div-gpt-ad-1552075516188-0').addService(googletag.pubads());
                        
                        googletag.defineSlot('/26278908/it_300x250_articlepages_3', [[300, 250], [320, 280], [336, 280], [320, 250], [320, 320]], 'div-gpt-ad-1552075713287-0').addService(googletag.pubads());
                        
                        googletag.defineSlot('/26278908/it_970x250_300x250_frontpages_4', [[980, 120], [300, 250], [970, 90], [320, 280], [320, 250], [970, 250], [336, 280], [728, 90], [320, 320], [980, 150], [980, 300]], 'div-gpt-ad-1552497065702-0') 
                                  .defineSizeMapping(mapping2)
                                  .addService(googletag.pubads());
                        
                          googletag.defineSlot('/26278908/it_970x250_300x250_frontpages_5', [[320, 250], [980, 120], [970, 90], [300, 250], [728, 90], [970, 250], [320, 280], [980, 150], [336, 280], [320, 320], [980, 300]], 'div-gpt-ad-1552497107886-0')
                                  .defineSizeMapping(mapping2)
                                  .addService(googletag.pubads());
                                  
          googletag.pubads().enableSingleRequest();
          googletag.enableServices();
        });
    </script>
    <!-- End GPT Tag -->
    ${head}
  </head>
  <body ${bodyAttrs}>
    ${app}
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"
            integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
            crossorigin="anonymous">
            </script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.bundle.min.js"></script>
    <script src="./carousel-swipe.js"></script> <!-- TODO: Change path -->
    <script>
        jQuery(document).ready(function ($) {
            //setup carousel with swipe for mobile
            $(".carousel").carousel();
            // Night Mode JS
            $(".site-header").on('change', '#night-mode', function () {
                if ($(this).prop('checked')) {
                    $('body').addClass('night');
                    jQuery('.text-dark').removeClass('text-dark').addClass('text-light');
                    jQuery('.text-black').removeClass('text-black').addClass('text-black-light');
                    jQuery('.text-half-black').removeClass('text-half-black').addClass('text-half-light');
                } else {
                    $('body').removeClass('night');
                    jQuery('.text-light:not(.btn):not(.badge)').removeClass('text-light').addClass('text-dark');
                    jQuery('.text-black-light').removeClass('text-black-light').addClass('text-black');
                    jQuery('.text-half-light').removeClass('text-half-light').addClass('text-half-black');
                }
            });
        });
    </script>

    <script>
      // running until finds all the ad
      let js_ad_loading = setInterval(() => {
        let ads = [];
        ads = document.querySelectorAll('[data-ad-view-gpt]');
        if (ads.length > 0) {
          document.querySelectorAll('[data-ad-view-gpt]').forEach(node => {
              window.googletag.cmd.push(() => {
                window.googletag.display(node.id);
              });
          });
          // stop timer
          clearInterval(js_ad_loading);
        }
      }, 1000);
    </script>
    <script>
      let js_video_ad_loading = setInterval(() => {
        let video_ads = [];
        video_ads = document.querySelectorAll('.homepage-video-area .wrap');
        if (video_ads.length > 0) {
          let ad_video = document.createElement('script');
          ad_video.setAttribute('src', '//itavisen.bbvms.com/p/itavisen_player_skin/y/PvCX5-ie8Z4.js');
          ad_video.async = true;
          document.querySelector('.homepage-video-area .wrap').appendChild(ad_video);
          // stop timer
          clearInterval(js_video_ad_loading);
        }
      }, 1000);
    </script>
    <!--script>
      let js_video_ad_loading = setInterval(() => {
        let video_ads = [];
        video_ads = document.querySelectorAll('.homepage-video-area');
        if (video_ads.length > 0) {
          ((v,i) => {
              let scp = v.createElement('script');
              let config = {
                  ChannelID: '5bb1bf7f073ef4613b554e0f',
                  AdUnitType: '2',
                  PublisherID: '594223687850985',
                  PlacementID: 'pltOUvrpWjn5SzBU33P',
                  DivID: '',
                  IAB_Category: 'IAB19',
                  Keywords: '',
                  Language: 'en-us',
                  BG_Color: '',
                  Text_Color: '',
                  Font: '',
                  FontSize: '',
              };
              scp.src='https://s.vi-serve.com/tagLoader.js';
              scp.type = 'text/javascript';
              scp.onload = function() {
                  i[btoa('video intelligence start')].init(config);
              };
              (v.getElementsByTagName('head')[0] || v.documentElement.appendChild(v.createElement('head'))).appendChild(scp);
          })(document, window);
          // stop timer
          clearInterval(js_video_ad_loading);
        }
      }, 1000);
    </script>
    <script>
      let video_ad_timer = setInterval(() => {
        let video_ads = [];
        video_ads = document.querySelectorAll('#vi-stories-top-div');
        if (video_ads.length > 0) {
          // Change the style
          /*document.querySelector('#av-container').style.removeProperty('height');
          document.querySelector('#av-container').style.removeProperty('width');
          document.querySelector('#vi-stories-main-container').classList.remove('vi-stories-width-min-800');
          document.querySelector('#vi-stories-top-div').classList.remove('viUnit2');*/
          document.querySelector('#vi-stories-title').style.setProperty('font-size', '1em', 'important');
          // Move element to .homepage-video-area .wrap
          $('.homepage-video-area .wrap').append($('#vi-stories-top-div'));
          // Stop timer
          clearInterval(video_ad_timer);
        }
      }, 500);
    </script-->
  </body>
</html>